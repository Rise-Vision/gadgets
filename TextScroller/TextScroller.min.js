function Scroller(b,a,c){this.x=b;this.canvas=document.createElement("canvas");this.canvas.width=a;this.canvas.height=c;this.context=this.canvas.getContext("2d");this.endCanvasPosition=this.startCanvasPosition=this.writePosition=this.totalPixelsCopied=0}Scroller.prototype.getX=function(){return this.x};Scroller.prototype.setX=function(b){this.x-=b};Scroller.prototype.resetX=function(b){this.x=b};Scroller.prototype.getStartCanvasPosition=function(){return this.startCanvasPosition};
Scroller.prototype.getEndCanvasPosition=function(){return this.endCanvasPosition};Scroller.prototype.setWritePosition=function(b){this.writePosition=b};
Scroller.prototype.drawCanvasFromStart=function(b,a){var c=b.getContext("2d"),d=this.canvas.width-this.totalPixelsCopied,e=0;0===this.totalPixelsCopied&&(this.startCanvasPosition=a);b.width-a<d?(c=c.getImageData(a,0,b.width-a,b.height),e=b.width-a,this.totalPixelsCopied+=e,a=0):(c=c.getImageData(a,0,d,b.height),e=d,a+=d,this.totalPixelsCopied+=d);this.context.putImageData(c,this.writePosition,0);this.writePosition+=e;this.totalPixelsCopied<this.canvas.width?a=this.drawCanvasFromStart(b,a):this.writePosition=
this.totalPixelsCopied=0;return this.endCanvasPosition=a};
Scroller.prototype.drawCanvasFromEnd=function(b,a){var c=b.getContext("2d"),d=this.canvas.width-this.totalPixelsCopied,e=0;0===this.totalPixelsCopied&&(this.endCanvasPosition=a);a<d?(c=c.getImageData(0,0,a,b.height),e=a,this.totalPixelsCopied+=e,a=b.width):(c=c.getImageData(a-d,0,d,b.height),e=d,a-=d,this.totalPixelsCopied+=d);this.context.putImageData(c,this.canvas.width-this.totalPixelsCopied,0);this.writePosition-=e;this.totalPixelsCopied<this.canvas.width?a=this.drawCanvasFromEnd(b,a):this.writePosition=
this.totalPixelsCopied=0;return this.startCanvasPosition=a};