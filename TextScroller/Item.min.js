function Item(a){this.canvas=document.createElement("canvas");this.canvas.setAttribute("id","item");this.context=this.canvas.getContext("2d");this.text=a;this.createCanvas()}Item.prototype.getWidth=function(){return this.context.canvas.width};
Item.prototype.createCanvas=function(){var a=document.createElement("canvas").getContext("2d"),d=0;this.writeText(a);d=a.measureText(this.text).width+10;this.context.canvas.width=d;this.context.canvas.height=scroller.height;this.context.canvas.style.display="none";this.writeText(this.context);document.body.appendChild(this.canvas);return this.canvas};
Item.prototype.writeText=function(a){var d=a.canvas.height/2,b="",c="",b=this.parseCSSRule(document.styleSheets[1].cssRules[1].cssText);null!=b[3]&&"normal"!=b[3]&&(c+=b[3]+" ");null!=b[4]&&"normal"!=b[4]&&(c+=b[4]+" ");c+=b[2]+" "+b[0];a.font=c;a.strokeStyle=b[1];a.textAlign="left";a.textBaseline="middle";a.save();a.translate(0,d);a.fillStyle=b[1];a.fillText(this.text,0,0);a.restore()};
Item.prototype.getFontHeight=function(a){var d=document.getElementsByTagName("body")[0],b=document.createElement("div"),c=document.createTextNode("M");b.setAttribute("style",a);d.appendChild(b);b.appendChild(c);a=b.offsetHeight;b.removeChild(c);d.removeChild(b);return a};
Item.prototype.parseCSSRule=function(a){var d=a.indexOf("{"),b=a.indexOf("}");a.substring(0,d);a=a.substring(++d,b).split(";");for(var d=[],c=0;c<a.length;c++)b=-1,-1!=a[c].indexOf("font-family:",0)?b=0:-1!=a[c].indexOf("color:",0)?b=1:-1!=a[c].indexOf("font-size:",0)?b=2:-1!=a[c].indexOf("font-weight:",0)?b=3:-1!=a[c].indexOf("font-style:",0)&&(b=4),-1==b?d.push(a[c].substring(a[c].indexOf(":",0)+1).trim()):d[b]=a[c].substring(a[c].indexOf(":",0)+1).trim();return d};