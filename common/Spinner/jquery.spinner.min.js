(function(e){e.fn.spinner=function(h){var a=e.extend({},e.fn.spinner.defaults,h);return this.each(function(){var b=0,f=0,g=b=0,f=0,c=e(this);if("remove"==h||"close"==h){var b=c.data("spinner"),d=c.data("opts");if("undefined"!=typeof b){b.remove();c.removeData("spinner").removeData("opts");d.hide&&c.css("visibility","visible");d.onFinish.call(this);return}}d=c.offset();b=c.outerWidth();g=c.outerHeight();g>a.height?f=Math.round((g-a.height)/2):g<a.height&&(f=0-Math.round((a.height-g)/2));f=d.top+f+
"px";b="right"==a.position?d.left+b+10+"px":"left"==a.position?d.left-a.width-10+"px":d.left+Math.round(0.5*b)-Math.round(0.5*a.width)+"px";a.onStart.call(this);a.hide&&c.css("visibility","hidden");b=e('<img src="'+a.img+'" style="position: absolute; left: '+b+"; top: "+f+"; width: "+a.width+"px; height: "+a.height+"px; z-index: "+a.zIndex+';" />').appendTo("body");c.data("spinner",b).data("opts",a)})};e.fn.spinner.defaults={position:"right",img:"spinner.gif",height:16,width:16,zIndex:1001,hide:!1,
onStart:function(){},onFinish:function(){}}})(jQuery);